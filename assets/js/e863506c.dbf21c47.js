"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2104],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return h}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(a),h=r,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||i;return a?n.createElement(m,o(o({ref:t},u),{},{components:a})):n.createElement(m,o({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},8145:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return p}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),o=["components"],s={sidebar_position:1},l="Cloud Architecture",c={unversionedId:"architecture/cloud",id:"architecture/cloud",isDocsHomePage:!1,title:"Cloud Architecture",description:"Deployment Diagram",source:"@site/docs/architecture/cloud.md",sourceDirName:"architecture",slug:"/architecture/cloud",permalink:"/documentation/docs/architecture/cloud",editUrl:"https://github.com/CS203-G1/documentation/docs/architecture/cloud.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"Design and Architecture",next:{title:"Microservice Pattern",permalink:"/documentation/docs/architecture/microservice"}},u=[{value:"Deployment Diagram",id:"deployment-diagram",children:[]},{value:"Amazon Web Services",id:"amazon-web-services",children:[{value:"API Gateway",id:"api-gateway",children:[]},{value:"Application Load Balancer and Auto Scaling Group",id:"application-load-balancer-and-auto-scaling-group",children:[]},{value:"AWS Fargate for Roster, Analytics and Scraper",id:"aws-fargate-for-roster-analytics-and-scraper",children:[]},{value:"AWS Lambda for Auto Scheduler and Approval Functions",id:"aws-lambda-for-auto-scheduler-and-approval-functions",children:[]},{value:"AWS Relational Database Service",id:"aws-relational-database-service",children:[]}]}],d={toc:u};function p(e){var t=e.components,s=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"cloud-architecture"},"Cloud Architecture"),(0,i.kt)("h3",{id:"deployment-diagram"},"Deployment Diagram"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Docusaurus",src:a(4992).Z}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://app.diagrams.net/#G1Zng3hRo18A9IQyPTjcUSw1GeiGrXKw0I"},"Diagram Link")),(0,i.kt)("p",null,"Note: Please contact ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bingyuyap"},"@bingyuyap")," for access to the deployment diagram."),(0,i.kt)("h1",{id:"design-decisions"},"Design decisions"),(0,i.kt)("p",null,"We are designing our solution to meet ",(0,i.kt)("a",{parentName:"p",href:"http://iso25000.com/index.php/en/iso-25000-standards/iso-25010"},"ISO25000")," requirements as close as possible. "),(0,i.kt)("h2",{id:"amazon-web-services"},"Amazon Web Services"),(0,i.kt)("p",null,"We decided to host the software project on AWS Cloud Services as this software is meant to used by many companies in Singapore. In time to come, we want to scale to other countries as well where COVID-19 has impacted not just Singapore. "),(0,i.kt)("h3",{id:"api-gateway"},"API Gateway"),(0,i.kt)("p",null,"As we are developing this product in less than 3 months, our team's software engineers need a way to manage the APIs. API Gateway is a fully managed service that makes it easy for us to create, publish, maintain, and monitor. Not just that, API Gateway also automatically secures our API endpoints as we are able to authorize access to your APIs with AWS Identity and Access Management (IAM) and Amazon Cognito."),(0,i.kt)("p",null,"With the fully managed API Gateway and Docusaurus, communication gap is minimized between the Front End, Back End and Dev Ops team. Hence, improving efficiency and effectiveness of our development. "),(0,i.kt)("p",null,"Furthermore, we want to scale to other devices, not just web browsers. We will be able to easily develop mobile application without much modification to the backend services. In other words, API Gateway increases the software maintainability as each service is loosely coupled with their on responsibilities distinguished properly. "),(0,i.kt)("p",null,"With API Gateway, we are able to increase the Security, Scalability and Maintainability of our software."),(0,i.kt)("h3",{id:"application-load-balancer-and-auto-scaling-group"},"Application Load Balancer and Auto Scaling Group"),(0,i.kt)("p",null,"Using Application Load Balancer, we are able to direct traffic to Fargate instances that are able to meet the workload requirements. Together with the auto-scaling group, we are able to scale up and down to meet the current workload requirements. This increases the availability of the services as auto-scaling (as the name suggests) scales our instances automatically to handle traffic at all times. "),(0,i.kt)("p",null,"Speaking of auto-scaling, it is most cost effective than manual scaling since it dynamically increases and decreases capacity as needed. When workload is low, like during night time, instances that are not used are terminated. "),(0,i.kt)("p",null,"With that our software is more fault tolerant too, where failover is done with replicas as AWS detects an unhealthy instance. This explains the need for the ",(0,i.kt)("inlineCode",{parentName:"p"},"/health")," endpoint configured in our Spring Boot components    "),(0,i.kt)("h3",{id:"aws-fargate-for-roster-analytics-and-scraper"},"AWS Fargate for Roster, Analytics and Scraper"),(0,i.kt)("p",null,"Instead of EC2, Fargate is used as the software will not be run 24/7. With Fargate, we can scale up during the day and scale down during the night. While EC2 is more suitable for constant, large workloads like processing transactions or some sort. "),(0,i.kt)("p",null,"You may also question the previous statement since we want to scale to other countries where they are operating at a different timezone, so there is possibility where there is a constant workload on our architecture. To address that, there is multiple regions and availability zones for AWS services. We can easily rebuild the services using the images in ECR for these other regions. Say we want to launch this product in the US, we would not want them to use the instance available in Singapore. That's stupid. We ideally should launch the instances as close as possible to our US users where they can experience minimized latency."),(0,i.kt)("p",null,"Why not Lambda, why Fargate? You may ask. It's because we need to develop Spring Boot projects and dockerize them for this module. That's why. Jokes aside, we speculate that this software will be used consistently during day time - especially office hours. Lambda is more commonly used when the workload is not as consistent and is more burstable / unpredictable."),(0,i.kt)("h3",{id:"aws-lambda-for-auto-scheduler-and-approval-functions"},"AWS Lambda for Auto Scheduler and Approval Functions"),(0,i.kt)("p",null,"Now why are we using Lambda for Approvals? Approving requests like Vaccination verification, leave request and etc are a very one-off thing. We think it is an overkill to have a Fargate instance just for this functionality. For Auto Scheduler, it runs only once in a while (every week or every 2 weeks). In other words, its a time-driven function. Similarly, we do not require a container as a service just for this simple function."),(0,i.kt)("h3",{id:"aws-relational-database-service"},"AWS Relational Database Service"),(0,i.kt)("p",null,"RDS is used for both staging and production databases. For staging, it reduces the need for the Front End team to run all 3 databases and all 3 services on their local machine just to be able to integrate with the backend services. FYI, the Front End engineer still uses Intel Chip \ud83e\udd37\u200d\u2642\ufe0f. Backend engineers do not need to run migration on their local databases too."),(0,i.kt)("p",null,"For production, reasons like RDS being highly scalable, available and durable are the main reasons that we are using this service. We will also be launching read replicas to offload the master database and also acts as a failover plan when one database is unavailable. We are also able to shard the database logically using companies if we ever serve a company with large number of employees."))}p.isMDXComponent=!0},4992:function(e,t,a){t.Z=a.p+"assets/images/architecture-diagram-d7ee614a129fa2eb1768c05696c7750f.png"}}]);